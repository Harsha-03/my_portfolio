@tailwind base;
@tailwind components;
@tailwind utilities;

/* =========================
   Global Base (Dark Only)
   ========================= */

html {
  font-family: var(--font-inter), system-ui, sans-serif;
  background-color: #0a0a0a;
}

body {
  font-family: var(--font-jakarta), system-ui, sans-serif;
  background-color: #0a0a0a;
  color: rgb(228 228 231); /* zinc-200 */
}

html:focus-within {
  scroll-behavior: smooth;
}

/* Skip link */
.skip-link {
  @apply sr-only focus:not-sr-only focus:fixed focus:top-3 focus:left-3
         focus:bg-zinc-900 focus:text-white focus:px-3 focus:py-2 focus:rounded-md;
}

/* =========================
   Components (Dark as Base)
   ========================= */

@layer components {
  .btn-primary {
    @apply inline-flex items-center gap-2 rounded-lg
           bg-blue-600 px-5 py-2.5
           text-white hover:bg-blue-500 transition;
  }

  .btn-outline {
    @apply inline-flex items-center gap-2 rounded-lg border
           border-zinc-700 px-5 py-2.5
           text-zinc-200 hover:bg-zinc-900 transition;
  }

  .section {
    @apply py-16 sm:py-20;
  }

  .container {
    @apply max-w-6xl mx-auto px-4;
  }

  .card {
    @apply rounded-2xl
           border border-zinc-800
           bg-zinc-900/70
           backdrop-blur;
  }
}

/* Ensure content sits above background layers */
main {
  position: relative;
  z-index: 1;
}

/* =========================
   Static Starfield (LOCKED)
   ========================= */

.starfield {
  position: fixed;
  inset: 0;
  z-index: 0;
  pointer-events: none;

  background-image:
    radial-gradient(1.5px 1.5px at 12% 18%, rgba(255,255,255,0.45), transparent),
    radial-gradient(1.5px 1.5px at 28% 72%, rgba(255,255,255,0.35), transparent),
    radial-gradient(1.5px 1.5px at 48% 42%, rgba(255,255,255,0.4), transparent),
    radial-gradient(1.5px 1.5px at 68% 68%, rgba(255,255,255,0.32), transparent),
    radial-gradient(1.5px 1.5px at 88% 22%, rgba(255,255,255,0.38), transparent);

  background-repeat: repeat;
  background-size: 420px 420px;
}

/* =========================
   Shooting Stars (LOCKED)
   ========================= */

.shooting-stars {
  position: fixed;
  inset: 0;
  z-index: 0;
  pointer-events: none;
  overflow: hidden;
}

.shooting-star {
  position: absolute;
  top: 0;
  left: 0;

  width: 180px;
  height: 1px;
  border-radius: 999px;
  opacity: 0;

  transform: translate3d(var(--x0), var(--y0), 0)
             rotate(45deg)
             scale(var(--scale, 1));

  animation: meteor var(--duration, 18s) linear infinite;
  animation-delay: var(--delay, 0s);

  background: linear-gradient(
    90deg,
    rgba(255,255,255,0.0) 0%,
    rgba(255,255,255,0.06) 55%,
    rgba(255,255,255,0.14) 75%,
    rgba(255,255,255,0.34) 92%,
    rgba(255,255,255,0.00) 100%
  );

  filter: drop-shadow(0 0 4px rgba(255,255,255,0.14));
}

.shooting-star::after {
  content: "";
  position: absolute;
  right: -1px;
  top: 50%;
  transform: translateY(-50%);

  width: 3px;
  height: 3px;
  border-radius: 999px;

  background: rgba(255,255,255,0.98);
  box-shadow:
    0 0 10px rgba(255,255,255,0.55),
    0 0 18px rgba(255,255,255,0.22);
}

@keyframes meteor {
  0% {
    transform: translate3d(var(--x0), var(--y0), 0)
               rotate(30deg)
               scale(var(--scale, 1));
    opacity: 0;
  }

  12% { opacity: 0.92; }
  55% { opacity: 0.55; }
  82% { opacity: 0.22; }

  100% {
    transform: translate3d(var(--x1), var(--y1), 0)
               rotate(45deg)
               scale(var(--scale, 1));
    opacity: 0;
  }
}

/* Accessibility */
@media (prefers-reduced-motion: reduce) {
  .shooting-star {
    animation: none !important;
    opacity: 0.25;
    transform: none;
  }
}

/* ----------------------------------------
   Typography polish (Projects / Case Study)
---------------------------------------- */

h2,
h3 {
  letter-spacing: -0.015em;
}

/* Ensures anchor scrolling doesn't hide content under header */
section {
  scroll-margin-top: 120px;
}

.signature-font {
  font-family: "CrustaceansSignature", cursive;
  letter-spacing: 0.06em;
}


/* =========================
   Custom Fonts
   ========================= */

@font-face {
  font-family: "CrustaceansSignature";
  src: url("/fonts/crustaceans/Crustaceans-SignatureDEMO-Regular.otf")
    format("opentype");
  font-weight: normal;
  font-style: normal;
  font-display: swap;
}

@keyframes heroReveal {
  from {
    opacity: 0;
    transform: translateY(14px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.hero-accent {
  display: inline-block;
  color: rgb(161 161 170); /* zinc-400 */
  animation: heroReveal 0.9s ease-out forwards;
}

@keyframes heroLine {
  from {
    opacity: 0;
    transform: translateY(18px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-hero-line {
  opacity: 0;
  animation: heroLine 1s ease-out 0.15s forwards;
}

/* NAME ANIMATION */
@keyframes heroNameReveal {
  from {
    opacity: 0;
    transform: translateX(-32px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

.hero-name {
  opacity: 0;
  animation: heroNameReveal 0.9s cubic-bezier(0.22, 1, 0.36, 1) forwards;
}

/* TAGLINE ANIMATION */
@keyframes heroFadeUp {
  from {
    opacity: 0;
    transform: translateY(14px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.hero-line {
  opacity: 0;
  animation: heroFadeUp 0.7s ease-out forwards;
}

.hero-line-1 {
  animation-delay: 0.8s;
}

.hero-line-2 {
  animation-delay: 1.05s;
}

@keyframes heroContentReveal {
  from {
    opacity: 0;
    transform: translateY(16px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.hero-content {
  opacity: 0;
  animation: heroContentReveal 0.8s ease-out forwards;
  animation-delay: 1.35s;
}

.font-caveat {
  font-family: var(--font-caveat), cursive;
}


/* ===============================
   Chatbot AI Icon Animations
   =============================== */

@keyframes aiBreath {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.06); }
}

@keyframes aiFloat {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-4px); }
}

@keyframes aiGlow {
  0%, 100% {
    box-shadow:
      0 0 0 rgba(34,197,94,0),
      0 0 0 rgba(59,130,246,0);
  }
  50% {
    box-shadow:
      0 0 18px rgba(34,197,94,0.35),
      0 0 28px rgba(59,130,246,0.25);
  }
}

/* Use separate names so hover doesn't cancel idle keyframes unpredictably */
.ai-idle {
  animation:
    aiBreath 6s ease-in-out infinite,
    aiFloat 8s ease-in-out infinite,
    aiGlow 5s ease-in-out infinite;
  will-change: transform, box-shadow;
}

.ai-hover:hover {
  animation:
    aiFloat 1.6s ease-in-out infinite,
    aiGlow 2.8s ease-in-out infinite;
}


/* =========================
   Splash Loader (NO FRAMER)
   Cinematic • Stable • Final
   ========================= */

.splash-root {
  position: fixed;
  inset: 0;
  z-index: 100;
  background: #09090b; /* zinc-950 */
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;

  /* ⏱ Hold the splash before exit */
  animation: splashHold 2.8s ease-out forwards;
}

/* Root hold timing
   - 0%–65% : fully visible
   - 65%–100% : still visible (linger)
*/
@keyframes splashHold {
  0% {
    opacity: 1;
  }
  65% {
    opacity: 1;
  }
  100% {
    opacity: 1;
  }
}

/* Ambient breathing glow */
.splash-glow {
  position: absolute;
  inset: 0;
  background: radial-gradient(
    520px 240px at 50% 55%,
    rgba(59, 130, 246, 0.18),
    transparent 65%
  );
  animation: splashGlow 4.2s ease-in-out infinite;
  pointer-events: none;
}

@keyframes splashGlow {
  0%, 100% {
    opacity: 0.45;
  }
  50% {
    opacity: 0.75;
  }
}

/* Center content */
.splash-center {
  position: relative;
  text-align: center;
  animation: splashFadeUp 0.7s ease-out forwards;
}

@keyframes splashFadeUp {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Signature text draw */
.splash-name {
  font-family: "CrustaceansSignature", cursive;
  font-size: clamp(2.4rem, 5vw, 3.2rem);
  color: white;
  letter-spacing: 0.08em;

  clip-path: inset(0 100% 0 0);
  animation: splashReveal 0.35s ease-out forwards;
  animation-delay: 0.25s;
}

@keyframes splashReveal {
  to {
    clip-path: inset(0 0% 0 0);
  }
}

/* Underline shimmer (UPDATED TIMING) */
.splash-underline {
  width: 7rem;
  height: 1px;
  margin: 0.75rem auto 0;
  background: linear-gradient(
    to right,
    transparent,
    rgba(59, 130, 246, 0.7),
    transparent
  );

  transform: scaleX(0);
  opacity: 0;

  /* ⬇️ Intentionally slower & delayed */
  animation: splashLine 0.9s ease-out forwards;
  animation-delay: 1.8s;
}

@keyframes splashLine {
  to {
    transform: scaleX(1);
    opacity: 1;
  }
}
